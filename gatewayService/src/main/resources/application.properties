# =========================================
# ? Service Identity
# =========================================
# Unique name of this service - used for discovery registration and to fetch configuration from the Config Server.
spring.application.name=gateway-service

# =========================================
# ?? Configuration Source
# =========================================
# URL of the Spring Cloud Config Server. 'optional:' ensures that the application can still start
# even if the Config Server is temporarily unreachable.
spring.config.import=optional:configserver:http://localhost:8888


# =========================================
# ? Server Port
# =========================================
# Local port on which the Gateway service will run.
# Keep this here (not in Config Server) so it can start independently.
server.port=8085


# =========================================
# ?? Eureka Client Configuration
# =========================================
# URL of the Eureka Discovery Server - tells Gateway where to register itself.
# In a real environment, replace localhost with the Eureka server's actual host/IP.
eureka.client.service-url.defaultZone=http://localhost:8761/eureka

# Prefer IP address instead of hostname when registering with Eureka.
# Useful in Docker, Kubernetes, or mixed-host environments.
eureka.instance.prefer-ip-address=true

# =========================================
# ? Kafka Configuration (for Spring Cloud Bus)
# =========================================
# Comma-separated list of Kafka brokers.
# Used by Spring Cloud Bus to distribute configuration refresh events
# across all microservices in the architecture.
spring.cloud.stream.kafka.binder.brokers=192.168.0.143:9092,192.168.0.143:9093,192.168.0.143:9094

# =========================================
# ? Spring Cloud Bus (Kafka Integration)
# =========================================
# Enables Spring Cloud Bus, which propagates configuration refresh events across all
# microservices connected to the Config Server using Kafka as the transport layer.
spring.cloud.bus.enabled=true

# Ensures that refresh events (e.g., triggered by /actuator/busrefresh)
# are automatically handled and distributed across the system.
spring.cloud.bus.refresh.enabled=true


# =========================================
# ? Kafka Topics for Config Refresh Events
# =========================================
# Defines the Kafka topic used to broadcast configuration change events.
# Both input and output bindings use the same topic for simplicity.
spring.cloud.stream.bindings.springCloudBusOutput.destination=config-bus-topic
spring.cloud.stream.bindings.springCloudBusInput.destination=config-bus-topic


# =========================================
# ? Logging Configuration
# =========================================
# Custom console log pattern for colorized output and detailed tracing.
# Shows timestamp, log level, thread name, class, method, and message.
logging.pattern.console=${LOGPATTERN_CONSOLE:%green(%d{HH:mm:ss.SSS}) %blue(%-5level) %red([%thread]) %yellow(%class.%M:%L) - %msg%n}
logging.level.root=INFO
logging.level.org.springframework.boot=INFO
logging.level.org.springframework.cloud=WARN
logging.level.org.apache.kafka=WARN
logging.level.org.springframework.integration=WARN
logging.level.io.opentelemetry=ERROR




