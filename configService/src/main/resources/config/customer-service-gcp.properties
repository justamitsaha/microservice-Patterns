# =========================================
# Spring Boot service: customer-service (GCP profile)
# =========================================
spring.application.name=customer-service
server.port=8081

# --- Database (MySQL) ---
# If the app uses JDBC (JPA):
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://mysql.microservice.svc.cluster.local:3306/amit?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:appuser}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:appPass123}

# If the app uses R2DBC (reactive):
spring.r2dbc.url=${SPRING_R2DBC_URL:r2dbc:mysql://mysql.microservice.svc.cluster.local:3306/amit}
spring.r2dbc.username=${SPRING_R2DBC_USERNAME:appuser}
spring.r2dbc.password=${SPRING_R2DBC_PASSWORD:appPass123}

# --- Service-to-Service (via Eureka) ---
app.order-service.base-url=${ORDER_SERVICE_BASE_URL:http://order-service}

# --- Observability (OTLP/Prometheus) ---
management.endpoints.web.exposure.include=${MANAGEMENT_ENDPOINTS:health,info,metrics,prometheus,refresh,busrefresh}
management.tracing.sampling.probability=${TRACING_SAMPLING:1.0}
management.tracing.export.otlp.endpoint=${OTLP_ENDPOINT:http://tempo.observability.svc.cluster.local:4318/v1/traces}

# --- Kafka (Spring Cloud Bus, streams, etc.) ---
spring.kafka.bootstrap-servers=${SPRING_KAFKA_BOOTSTRAP:my-cluster-kafka-bootstrap.kafka.svc.cluster.local:9092}

# --- Eureka Discovery ---
eureka.client.service-url.defaultZone=${EUREKA_DEFAULT_ZONE:http://discovery.microservice.svc.cluster.local:8761/eureka}
eureka.instance.prefer-ip-address=${EUREKA_PREFER_IP:true}
