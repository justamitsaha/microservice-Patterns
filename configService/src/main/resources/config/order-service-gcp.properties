###############################################
# Spring Boot service: order-service (GCP profile)
###############################################
spring.application.name=order-service

# --- Database (R2DBC MySQL) ---
spring.r2dbc.url=${SPRING_R2DBC_URL:r2dbc:mysql://mysql.microservice.svc.cluster.local:3306/amit}
spring.r2dbc.username=${SPRING_R2DBC_USERNAME:appuser}
spring.r2dbc.password=${SPRING_R2DBC_PASSWORD:appPass123}

# --- Kafka ---
spring.kafka.bootstrap-servers=${SPRING_KAFKA_BOOTSTRAP:my-cluster-kafka-bootstrap.kafka.svc.cluster.local:9092}
app.kafka.topic.order=order.events
app.kafka.topic.order.dlt=order.events.dlt
app.kafka.topic.order.retry=order.events.retry
app.kafka.topic.order.proto=order.events.proto
app.kafka.retry.max-attempts=3
app.kafka.outbox.poll-interval=PT1S
app.kafka.outbox.batch-size=50
app.kafka.outbox.max-attempts=5
app.kafka.schema-registry-url=${SCHEMA_REGISTRY_URL:http://schema-registry.kafka.svc.cluster.local:8081}

# --- Observability ---
management.endpoints.web.exposure.include=${MANAGEMENT_ENDPOINTS:health,info,metrics,prometheus,refresh,busrefresh}
management.tracing.sampling.probability=${TRACING_SAMPLING:1.0}
management.tracing.export.otlp.endpoint=${OTLP_ENDPOINT:http://tempo.observability.svc.cluster.local:4318/v1/traces}
management.metrics.distribution.percentiles.http.server.requests=0.5,0.9,0.95,0.99
management.metrics.distribution.slo.http.server.requests=100ms,250ms,500ms,1s,2s

# --- Eureka Client ---
eureka.client.service-url.defaultZone=${EUREKA_DEFAULT_ZONE:http://discovery.microservice.svc.cluster.local:8761/eureka}
eureka.instance.prefer-ip-address=${EUREKA_PREFER_IP:true}
